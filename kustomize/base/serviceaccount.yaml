# ============================================
# ğŸ†• ì‹ ê·œ - kustomize/base/serviceaccount.yaml
# ============================================
# ì›ë³¸: terraform/serviceaccount.tfì˜ kubernetes_service_account_v1.app_sa
#
# ë³€ê²½ ì‚¬í•­:
# 1. IRSA annotation ì œê±° (app_irsa ëª¨ë“ˆ ì‚­ì œë¨)
#    - ì•±ì´ AWS SDKë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ IRSA ë¶ˆí•„ìš”
#    - ì•±ì€ K8s Secrets (ExternalSecretì´ ë™ê¸°í™”í•œ)ë§Œ ì‚¬ìš©
# 2. managed-by: terraform â†’ kustomizeë¡œ ë³€ê²½
# 3. automountServiceAccountToken: false ìœ ì§€ (ë³´ì•ˆ)
#
apiVersion: v1
kind: ServiceAccount
metadata:
  name: app-sa
  labels:
    app.kubernetes.io/name: app
    app.kubernetes.io/component: serviceaccount
    app.kubernetes.io/part-of: exchange-settlement
    app.kubernetes.io/managed-by: kustomize
# ë³´ì•ˆ: ì•±ì´ K8s APIë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í† í° ë§ˆìš´íŠ¸ ë¹„í™œì„±í™”
automountServiceAccountToken: false